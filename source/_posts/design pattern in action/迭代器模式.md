title: 再一次，javascript设计模式与开发实践-迭代器模式
date: 2015-06-14 23:26:44
categories: ['笔记']
tags: ['javascript', '设计模式', '实战']
---

## 简述
> 提供一种方法顺序访问一个聚合对象中的各个元素，而又不需要暴露该对象的内部表示。

其实语言本身就内置有迭代器，例如`[].forEach()`等。

## 使用场景
* 遍历
* 选择加载
* ..

## 案例

<!-- more -->

假如要根据浏览器的兼容不同来使用不同的上传方案，那么适合使用迭代器模式。

```js
var getActiveObj = function () {
	try {
		return new IE();
	} catch (e) {
		return false;
	}
};

var getFlashObj = function () {
	try {
		return new Flash();
	} catch (e) {
		return false;
	}
};

var gethtmlObj = function () {
	try {
		return '<input type="file" />';
	} catch (e) {
		return false;
	}
};

var iterator = function () {
	for (var i = 0, fn; fn = arguments[i++];) {
		var obj = fn();

		if(obj) return obj;
	}
};

console.log(iterator(getActiveObj, getFlashObj, gethtmlObj));
```
